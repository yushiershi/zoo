(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{257:function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("zoo-content",{attrs:{title:"修改资金密码"}},[t("zoo-line-item",{attrs:{label:"验证码"}},[t("zoo-gray-input",{attrs:{placeHolder:"请输入验证码",maxLength:"4"},nativeOn:{keypress:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.$refs.pass.focus()}},model:{value:e.user.code,callback:function(s){e.$set(e.user,"code",s)},expression:"user.code"}}),e._v(" "),t("span",{attrs:{slot:"right"},slot:"right"},[t("zoo-button",{ref:"validinput",attrs:{type:"small",maxCount:60,width:"80px",label:"发送验证码"},on:{click:e.sendValidCode}})],1)],1),e._v(" "),t("zoo-line-item",{attrs:{label:"新密码"}},[t("zoo-gray-input",{ref:"pass",attrs:{placeHolder:"请输入新密码",inputType:e.show1?"text":"password",maxLength:"16"},nativeOn:{keypress:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.checkPass(!1)}},model:{value:e.user.pass,callback:function(s){e.$set(e.user,"pass",s)},expression:"user.pass"}}),e._v(" "),t("span",{attrs:{slot:"right"},slot:"right"},[t("zoo-icon",{attrs:{iconType:e.show1?"password-eye-open":"password-eye-close"},nativeOn:{click:function(s){e.show1=!e.show1}}})],1)],1),e._v(" "),t("zoo-line-item",{attrs:{label:"确认密码"}},[t("zoo-gray-input",{ref:"repass",attrs:{placeHolder:"请重复输入一遍密码",inputType:e.show2?"text":"password",maxLength:"16"},nativeOn:{keypress:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.findPass(s)}},model:{value:e.user.repass,callback:function(s){e.$set(e.user,"repass",s)},expression:"user.repass"}}),e._v(" "),t("span",{attrs:{slot:"right"},slot:"right"},[t("zoo-icon",{attrs:{iconType:e.show2?"password-eye-open":"password-eye-close"},nativeOn:{click:function(s){e.show2=!e.show2}}})],1)],1),e._v(" "),t("div",{staticClass:"btn"},[t("zoo-button",{attrs:{label:"提交"},on:{click:e.findPass}})],1)],1)};r._withStripped=!0;var n=t(6),o=t(81),a={name:"login",components:{"el-container":n.Container,"el-main":n.Main},data(){return{cnt:0,user:{phone:this.$store.state.userName,code:""},show1:!1,show2:!1}},methods:{checkPass(e){return e?this.user.pass==this.user.repass||(this.$message.error("两次输入密码不一致"),!1):!this.user.pass.length||this.user.pass.length<8?void this.$message.error("密码至少8位字符"):/\d/.test(this.user.pass)||/[a-zA-Z]/.test(this.user.pass)?this.user.repass&&this.user.pass!=this.user.repass?(this.$message.error("两次输入密码不一致"),!1):(this.$refs.repass.focus(),!0):(this.$message.error("密码必须同时包含数字和字母"),!1)},sendValidCode(){let e=this;Object(o.u)({phone:new Number(this.user.phone)}).then(s=>{e.$message.success("验证码已经发送")})},findPass(){if(!this.checkPass(!0))return;if(!this.user.code||4!=this.user.code.length)return void this.$message.error("请输入正确的验证码");if(!this.user.pass)return void this.$message.error("请输入密码");if(!this.checkPass(!0))return;let e=this;Object(o.h)({phone:this.user.phone,code:this.user.code,newpwd:this.user.pass}).then(s=>{e.$message.success("密码修改成功"),e.$router.push("./index")})}},mounted(){}},i=(t(363),t(4)),u=Object(i.a)(a,r,[],!1,null,"36f9c5e7",null);u.options.__file="src/views/my/editCashPass.vue";s.default=u.exports},316:function(e,s,t){},363:function(e,s,t){"use strict";var r=t(316);t.n(r).a}}]);